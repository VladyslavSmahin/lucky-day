Project Overview
This is a React-based chat application integrated with:
n8n Webhook — for message processing and routing to AI.
ElevenLabs API — for converting AI text responses into speech.
Web Audio API & MediaRecorder — for recording user voice and sending it as audio messages.

Core Features
Two-way communication — user can send text or voice, and receive AI responses in both text and audio format.
Customizable Tone of Voice — user sets desired tone via an input field (TOV).
Daily Info Context — stores and reuses user’s daily mood/context (inputDailyInfo) for more personalized replies.
Memoized chat rendering — React.memo is used to optimize re-rendering and improve performance.
Voice synthesis — AI responses are converted into audio using ElevenLabs API.
Voice recording — browser microphone access is used to send audio messages to the AI.

Flow
User sets username, tone of voice, and daily info.
User sends message (text or audio).
n8n webhook processes the input, generates an AI response, and returns:
Text output
Optional separate speech text
Frontend displays text, and optionally plays audio if speech synthesis is successful.
Voice messages are recorded, sent as audio files, and receive an AI response in the same way.

Key Tech Stack
Frontend: React (useState, useRef, memo), CSS
Backend integration: n8n Webhook
Audio: ElevenLabs API, Web Audio API, MediaRecorder

❓ FAQ
Q1: How do you prevent unnecessary re-renders in the chat?
A: I use React.memo for the chat component so it only re-renders when the messages array changes.

Q2: Why do you send both TOV and inputDailyInfo to the webhook?
A: There will be different data points

Q3: What happens if ElevenLabs API fails?
A: The app still shows the text response. Audio is only added if synthesis succeeds.

Q4: How is voice recording handled?
A: Using navigator.mediaDevices.getUserMedia() with MediaRecorder. Audio is stored in chunks, converted to a Blob, and sent via FormData to the webhook.

Q5: Why store username in state before starting chat?
A: To uniquely identify the user in the conversation and in backend logs.

Q6: How do you handle old daily info if it’s not updated?
A: The app sends the existing stored inputDailyInfo value unless the user changes it.

Q7: Is this app mobile-friendly?
A: Yes, it works on mobile browsers that support audio recording and playback.